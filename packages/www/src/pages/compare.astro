---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const features = [
  { name: 'Forum sync', discordlink: true, answerOverflow: true, discordForumToWebsite: true },
  { name: 'Text channel sync', discordlink: true, answerOverflow: false, discordForumToWebsite: false },
  { name: 'REST API', discordlink: true, answerOverflow: 'Limited', discordForumToWebsite: false },
  { name: 'Webhooks', discordlink: true, answerOverflow: false, discordForumToWebsite: false },
  { name: 'RSS feeds', discordlink: true, answerOverflow: true, discordForumToWebsite: false },
  { name: 'Static export CLI', discordlink: true, answerOverflow: false, discordForumToWebsite: true },
  { name: 'Official templates', discordlink: true, answerOverflow: true, discordForumToWebsite: 'Limited' },
  { name: 'Edge deployment', discordlink: true, answerOverflow: true, discordForumToWebsite: 'N/A' },
  { name: 'Self-hosted', discordlink: true, answerOverflow: false, discordForumToWebsite: true },
  { name: 'Privacy controls', discordlink: true, answerOverflow: 'Limited', discordForumToWebsite: false },
  { name: 'Full-text search', discordlink: true, answerOverflow: true, discordForumToWebsite: false },
  { name: 'Open source', discordlink: true, answerOverflow: false, discordForumToWebsite: true },
];

function renderValue(value: boolean | string) {
  if (value === true) return '✓';
  if (value === false) return '✗';
  return value;
}

function getValueClass(value: boolean | string) {
  if (value === true) return 'yes';
  if (value === false) return 'no';
  return 'partial';
}
---

<BaseLayout title="Compare - DiscordLink vs Alternatives">
  <Header />

  <main>
    <div class="container">
      <header class="page-header">
        <h1>Compare DiscordLink</h1>
        <p>See how DiscordLink stacks up against other Discord-to-website solutions.</p>
      </header>

      <div class="table-container">
        <table class="comparison-table">
          <thead>
            <tr>
              <th>Feature</th>
              <th class="highlight">DiscordLink</th>
              <th>Answer Overflow</th>
              <th>discord-forum-to-website</th>
            </tr>
          </thead>
          <tbody>
            {features.map((feature) => (
              <tr>
                <td>{feature.name}</td>
                <td class:list={['highlight', getValueClass(feature.discordlink)]}>
                  {renderValue(feature.discordlink)}
                </td>
                <td class={getValueClass(feature.answerOverflow)}>
                  {renderValue(feature.answerOverflow)}
                </td>
                <td class={getValueClass(feature.discordForumToWebsite)}>
                  {renderValue(feature.discordForumToWebsite)}
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>

      <section class="why-discordlink">
        <h2>Why Choose DiscordLink?</h2>
        <div class="reasons-grid">
          <div class="reason">
            <h3>Full Control</h3>
            <p>Self-host on your own infrastructure. Your data stays yours.</p>
          </div>
          <div class="reason">
            <h3>Developer-First API</h3>
            <p>Full REST API with webhooks. Build custom integrations.</p>
          </div>
          <div class="reason">
            <h3>Privacy by Design</h3>
            <p>Consent-based syncing. Users control what gets shared.</p>
          </div>
          <div class="reason">
            <h3>Open Source</h3>
            <p>MIT licensed. Customize, contribute, or fork as needed.</p>
          </div>
        </div>
      </section>
    </div>
  </main>

  <Footer />
</BaseLayout>

<style>
  main {
    padding-top: 120px;
    padding-bottom: 4rem;
  }
  .page-header {
    text-align: center;
    margin-bottom: 4rem;
  }
  .page-header h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
  }
  .page-header p {
    color: var(--text-secondary);
    font-size: 1.1rem;
  }
  .table-container {
    overflow-x: auto;
    margin-bottom: 4rem;
  }
  .comparison-table {
    width: 100%;
    border-collapse: collapse;
    background: var(--bg-card);
    border-radius: 12px;
    overflow: hidden;
  }
  th, td {
    padding: 1rem 1.5rem;
    text-align: center;
    border-bottom: 1px solid var(--border);
  }
  th {
    background: var(--bg-secondary);
    font-weight: 600;
    font-size: 0.9rem;
  }
  th:first-child, td:first-child {
    text-align: left;
  }
  th.highlight {
    background: var(--accent);
    color: white;
  }
  td.highlight {
    background: rgba(88, 101, 242, 0.1);
  }
  .yes {
    color: #10b981;
    font-weight: 600;
  }
  .no {
    color: #ef4444;
  }
  .partial {
    color: var(--text-secondary);
    font-size: 0.9rem;
  }
  tr:last-child td {
    border-bottom: none;
  }
  .why-discordlink {
    text-align: center;
  }
  .why-discordlink h2 {
    font-size: 2rem;
    margin-bottom: 2rem;
  }
  .reasons-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    max-width: 800px;
    margin: 0 auto;
  }
  .reason {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: left;
  }
  .reason h3 {
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
  }
  .reason p {
    color: var(--text-secondary);
    font-size: 0.95rem;
  }

  @media (max-width: 768px) {
    .reasons-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
